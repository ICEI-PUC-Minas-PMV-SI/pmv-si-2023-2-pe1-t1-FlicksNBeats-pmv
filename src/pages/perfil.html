<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Meu Perfil</title>
    <link rel="stylesheet" href="/src/styles/main.css" />
    <link href="../styles/perfil.css" rel="stylesheet" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://unpkg.com/flickity@2/dist/flickity.min.css"
    />
    <script
      src="https://kit.fontawesome.com/f1b24ba51d.js"
      crossorigin="anonymous"
    ></script>
    <script src="https://unpkg.com/flickity@2/dist/flickity.pkgd.min.js"></script>
  </head>
  <body>
    <!-- HEADER -->
    <header class="header">
      <a href="/src/index.html"><img src="/src/assets/logo.svg" alt="" class="header-logo"/></a>
      <div class="search-bar">
        <form action="#">
          <input
            type="text"
            placeholder="Pesquisar"
            onkeypress="handle(event)"
          />
        </form>
        <i class="fas fa-search search-bar-icon" style="color: #94a1b2"></i>
      </div>
      <div class="header-menu">
        <a href="#movies">
          <div class="header-menu-option">
            <i class="fa-solid fa-video"></i>
            <span>Filmes/Séries favoritos</span>
          </div>
        </a>
        <a href="#albuns">
          <div class="header-menu-option">
            <i class="fa-solid fa-music"></i>
            <span>Albums favoritos</span>
          </div>
          <a href="/src/pages/perfil.html" id="perfil">
            <div class="header-menu-option">
              <i class="fa-solid fa-user"></i>
              <span>Meu perfil</span>
            </div>
          </a>
        </a>
        <a href="http://localhost:5500/src/index.html" id="leaveBtn">
          <div class="header-menu-option">
            <i class="fa-solid fa-arrow-right-from-bracket"></i>
            <span>Sair</span>
          </div>
        </a>
        <a href="/src/pages/login.html" id="login">
          <div class="header-menu-option">
            <i class="fa-solid fa-user"></i>
            <span>Entrar</span>
          </div>
        </a>
        <div class="header-menu-collapsed" id="menu">
          <i class="fa-solid fa-bars fa-lg"></i>
        </div>
      </div>
    </header>
    <div class="wrapper">
      <!-- HEADER -->
      <section class="main">
        <div class="main-background"></div>
        <div class="main-gradient"></div>
      </section>
      <!-- SIGN UP -->
      <section id="usuario-perfil" class="sign-up-wrapper">
        <img
          id="usuario-foto"
          src="/src/assets/user/useravatar.png"
          class=""
          alt="..."
        />
        <ul>
          <li id="userName">UsuarioNome</li>
          <li id="usuario-descricao">
            Eu gosto de escutar aos mais variados estilos de músicas. Gosto de
            filmes de <br />
            terror e amo sitcoms.
          </li>
        </ul>
      </section>
      <!-- SIGN UP -->

      <!-- CAROUSEL MOVIES -->
      <section id="movies">
        <div class="carousel-info-wrapper">
          <p class="carousel-subtitle">Filmes/Séries favoritos</p>
        </div>
        <div id="moviesGallery"></div>
      </section>
      <!-- CAROUSEL MOVIES -->
      <!-- REVIEWS -->
      <section>
        <div class="carousel-info-wrapper">
          <p class="carousel-title">Atividade</p>
          <p id="reviewPlaceholder">Carregando reviews...</p>
          <div class="review-container-cards" id="reviewsContainer"></div>
        </div>
      </section>
      <footer>©2023 Flicks N Beats. All Rights Reserved.</footer>
      <!-- FOOTER -->
      <section class="overlay" id="overlay">
        <div class="overlay-header" id="closeMenuBtn">
          <i class="fa-solid fa-bars fa-lg"></i>
        </div>
        <div class="overlay-content">
          <a href="#movies" id="overlayMoviesBtn">
            <div>
              <i class="fa-solid fa-video"></i>
              <span>Filmes/Séries favoritos</span>
            </div>
          </a>
          <a href="#albuns" id="overlayAlbumsBtn">
            <div>
              <i class="fa-solid fa-music"></i>
              <span>Albums favoritos</span>
            </div>
          </a>
          <a href="http://localhost:5500/src/index.html" id="leaveBtn2">
            <div class="header-menu-option">
              <i class="fa-solid fa-arrow-right-from-bracket"></i>
              <span>Sair</span>
            </div>
          </a>
          <div id="closeOverlayBtn">
            <i class="fa-solid fa-circle-xmark"></i>
          </div>
        </div>
        <div class="overlay-footer">
          <span>©2023 Flicks N Beats. All Rights Reserved.</span>
        </div>
      </section>
    </div>
  </body>
  <script>
    // Input go to search page
    function handle(e) {
      const searchedMovie = e.target?.value;
      if (e.keyCode === 13 && searchedMovie) {
        e.preventDefault();
        localStorage.setItem("searchedMovie", searchedMovie);
        window.location = `http://localhost:5500/src/pages/pesquisar.html`;
      }
    }
  </script>
  <script>
    // Mobile menu overlay
    const menuButton = document.getElementById("menu");
    const closeOverlayBtn = document.getElementById("closeOverlayBtn");
    const closeMenuBtn = document.getElementById("closeMenuBtn");
    const overlayMoviesBtn = document.getElementById("overlayMoviesBtn");
    const overlayAlbumsBtn = document.getElementById("overlayAlbumsBtn");

    function handleActiveOverlay() {
      const overlay = document.getElementById("overlay");
      const classList = overlay.classList;

      if (classList.contains("overlay-active")) {
        overlay.classList.remove("overlay-active");
      } else {
        overlay.classList.add("overlay-active");
      }
    }

    menuButton.addEventListener("click", handleActiveOverlay);
    closeOverlayBtn.addEventListener("click", handleActiveOverlay);
    closeMenuBtn.addEventListener("click", handleActiveOverlay);
    overlayMoviesBtn.addEventListener("click", handleActiveOverlay);
    overlayAlbumsBtn.addEventListener("click", handleActiveOverlay);
  </script>
  <script src="/src/scripts/sair.js"></script>
  <script src="../scripts/perfil.js"></script>
  <script src="../scripts/favorites.js"></script>
</html>
